{"version":3,"sources":["constants.js","services/UserContext.jsx","images/BankLogo.png","components/Header.jsx","components/Footer.jsx","Routes.js","reportWebVitals.js","index.js"],"names":["HomePage","React","lazy","Withdraw","CreateAccount","Deposit","AllData","routes","name","path","description","component","sessionStorageKeys","users","UserContext","createContext","KEYS","commitTransaction","state","type","userId","value","user","find","usr","id","floatValue","parseFloat","balance","transactions","push","date","Date","runningBalance","filter","userReducer","action","newState","console","error","ky","post","json","then","response","log","catch","ex","uuidv4","sessionStorage","setItem","JSON","stringify","Provider","children","useReducer","parse","getItem","dispatch","withdraw","deposit","createUser","deleteUser","withRouter","location","Navbar","bg","expand","Container","Brand","to","as","Link","Toggle","Collapse","className","Nav","map","route","OverlayTrigger","trigger","placement","overlay","Popover","Header","Body","isEqual","pathname","Footer","NavbarBrand","FourZeroFour","LoadingComponent","src","Logo","alt","height","Routes","RenderSuspenseful","Suspense","fallback","basename","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fdd3bdce.chunk.js","sourcesContent":["import React from 'react';\nconst HomePage = React.lazy(() => import('./pages/HomePage'));\nconst Withdraw = React.lazy(() => import('./pages/Withdraw'));\nconst CreateAccount = React.lazy(() => import('./pages/CreateAccount'));\nconst Deposit = React.lazy(() => import('./pages/Deposit'));\nconst AllData = React.lazy(() => import('./pages/AllData'));\n\nexport const routes = [\n  {\n    name: 'Home',\n    path: '/',\n    description: `Our homepage`,\n    component: <HomePage />,\n  },\n  {\n    name: 'Withdraw',\n    path: '/withdraw',\n    description: `Make a withdrawal`,\n    component: <Withdraw />,\n  },\n  {\n    name: 'Deposit',\n    path: '/deposit',\n    description: `Make a deposit`,\n    component: <Deposit />,\n  },\n  {\n    name: 'Create Account',\n    path: '/create-account',\n    description: `Create an account`,\n    component: <CreateAccount />,\n  },\n  {\n    name: 'All Data',\n    path: '/alldata',\n    description: `View all of your data`,\n    component: <AllData />,\n  },\n];\n\nexport const sessionStorageKeys = {\n  users: 'users',\n};\n","import { createContext } from 'react';\nimport { useReducer } from 'react';\nimport { sessionStorageKeys } from '../constants';\nimport { v4 as uuidv4 } from 'uuid';\nimport ky from 'ky';\nconst UserContext = createContext();\n\nconst KEYS = {\n  ADD_USER: 'ADD_USER',\n  WITHDRAW: 'WITHDRAW',\n  DEPOSIT: 'DEPOSIT',\n  DELETE_USER: 'DELETE_USER',\n};\n\n/**\n * Update state with a new transaction\n * @param {Array} state The state of all users at the moment\n * @param {String} type The type of transaction. One of \"WITHDRAW\" or \"DEPOSIT\" (Defined in KEYS)\n * @param {String} userId The UUID of the user to be updated\n * @param {Number} value The value of the transaction. If the type is a withdrawal, this value is subtracted rather than added\n * @returns {Array} An updated version of the provided state object, containing the new transaction with a new balance for the modified user\n */\nconst commitTransaction = (state, type, userId, value) => {\n  const user = state.find((usr) => usr.id === userId);\n  const floatValue = parseFloat(value);\n  user.balance += type === KEYS.WITHDRAW ? -floatValue : floatValue;\n  user.transactions.push({\n    type: type === KEYS.WITHDRAW ? 'Withdrawal' : 'Deposit',\n    value,\n    date: new Date(),\n    runningBalance: user.balance,\n  });\n  return [...state.filter((usr) => usr.id !== userId), user];\n};\n\nconst userReducer = (state, action) => {\n  let newState = state;\n  switch (action.type) {\n    case KEYS.ADD_USER: {\n      // These braces are odd, for some reason eslint doesn't determine scope properly without them. https://stackoverflow.com/questions/33397782/const-already-declared-in-es6-switch-block\n      if (!action.user) {\n        console.error('Cannot add a user without a user to add');\n        break;\n      }\n\n      ky.post('http://127.0.0.1:3000/auth/signup', {\n        json: {\n          ...action.user,\n        },\n      })\n        .then((response) => console.log(response))\n        .catch((ex) => console.error(ex));\n      // Setup a new user, in addition to the provided info we'll add a default transaction,\n      // their starting balance and a unique UUID\n      newState = [\n        ...state,\n        {\n          ...action.user,\n          id: uuidv4(),\n          transactions: [\n            {\n              type: 'Sign Up Bonus',\n              value: 100,\n              date: new Date(),\n              runningBalance: 100,\n            },\n          ],\n          balance: 100,\n        },\n      ];\n      break;\n    }\n    case KEYS.WITHDRAW: {\n      if (!action.user || !action.value) {\n        // No need for validNumber() since no transaction takes place for $0\n        console.error('Cannot withdraw without a value or user');\n        break;\n      }\n      newState = commitTransaction(\n        state,\n        KEYS.WITHDRAW,\n        action.user,\n        action.value\n      );\n      break;\n    }\n    case KEYS.DEPOSIT: {\n      if (!action.user || !action.value) {\n        console.error('Cannot withdraw without a value or user');\n        break;\n      }\n      newState = commitTransaction(\n        state,\n        KEYS.DEPOSIT,\n        action.user,\n        action.value\n      );\n      break;\n    }\n    case KEYS.DELETE_USER: {\n      if (!action.user) {\n        console.error('Cannot remove a user without a username');\n        break;\n      }\n      newState = [...state.filter((usr) => usr.id !== action.user)];\n      break;\n    }\n    default:\n      console.error('userReducer called without an action type');\n      break;\n  }\n\n  // After any state update, we'll update session storage so that our data persists\n  sessionStorage.setItem(sessionStorageKeys.users, JSON.stringify(newState));\n  return newState;\n};\n\nconst Provider = ({ children }) => {\n  const [users, dispatch] = useReducer(\n    userReducer,\n    JSON.parse(sessionStorage.getItem(sessionStorageKeys.users)) || []\n  );\n\n  const withdraw = (user, value) =>\n    dispatch({ type: KEYS.WITHDRAW, user, value });\n\n  const deposit = (user, value) =>\n    dispatch({ type: KEYS.DEPOSIT, user, value });\n\n  const createUser = (user) => {\n    dispatch({ type: KEYS.ADD_USER, user });\n  };\n\n  const deleteUser = (user) => {\n    dispatch({ type: KEYS.DELETE_USER, user });\n  };\n\n  return (\n    <UserContext.Provider\n      value={{ users, withdraw, deposit, createUser, deleteUser }}\n    >\n      {children}\n    </UserContext.Provider>\n  );\n};\n\nexport { Provider, UserContext };\n","export default __webpack_public_path__ + \"static/media/BankLogo.c839211a.png\";","import React from 'react';\nimport {\n  Navbar,\n  Container,\n  Nav,\n  OverlayTrigger,\n  Popover,\n} from 'react-bootstrap';\nimport { routes } from '../constants';\nimport { isEqual } from 'lodash';\nimport { Link } from 'react-router-dom';\nimport { withRouter } from 'react-router-dom';\n\nconst Header = ({ location }) => {\n  return (\n    <Navbar bg=\"light\" expand=\"lg\">\n      <Container>\n        <Navbar.Brand to={routes[0].path} as={Link}>\n          Bad Bank\n        </Navbar.Brand>\n        <Navbar.Toggle />\n        <Navbar.Collapse className=\"justify-content-end\">\n          <Nav>\n            {routes.map((route) => (\n              <OverlayTrigger\n                trigger={['hover', 'focus']}\n                placement=\"bottom\"\n                key={`pop-header-${route.name}}`}\n                overlay={\n                  <Popover>\n                    <Popover.Header>{route.name}</Popover.Header>\n                    <Popover.Body>{route.description}</Popover.Body>\n                  </Popover>\n                }\n              >\n                <Nav.Link\n                  className={`nav-link ${\n                    isEqual(route.path, location.pathname) && `text-primary`\n                  }`}\n                  to={route.path}\n                  as={Link}\n                  key={`header-link-${route.name}`}\n                >\n                  {route.name}\n                </Nav.Link>\n              </OverlayTrigger>\n            ))}\n          </Nav>\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  );\n};\nexport default withRouter(Header);\n","import { Navbar, NavbarBrand, Container } from 'react-bootstrap';\nconst Footer = () => {\n  return (\n    <div className=\"fixed-bottom bg-light\">\n      <Navbar>\n        <Container>\n          <NavbarBrand>Bad Bankâ„¢</NavbarBrand>\n        </Container>\n      </Navbar>\n    </div>\n  );\n};\n\nexport default Footer;\n","import Header from './components/Header';\nimport Footer from './components/Footer';\nimport React from 'react';\nimport { Switch, Route, BrowserRouter as Router } from 'react-router-dom';\nimport { routes } from './constants';\nimport Logo from './images/BankLogo.png';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport './Routes.css';\n\nconst FourZeroFour = React.lazy(() => import('./pages/404'));\n\nconst LoadingComponent = () => (\n  <div className=\"w-100 h-100 bg-light text-dark\">\n    <img src={Logo} alt=\"Logo\" height=\"256px\" />\n    <h1 className=\"p-5\">Loading...</h1>\n  </div>\n);\n\nconst Routes = () => {\n  const RenderSuspenseful = ({ children }) => (\n    <React.Suspense fallback={<LoadingComponent />}>{children}</React.Suspense>\n  );\n\n  return (\n    <div className=\"App\">\n      <Router basename=\"/\">\n        <Header />\n        <Switch>\n          {routes.map((route) => (\n            <Route key={`route-${route.name}`} path={route.path} exact>\n              <RenderSuspenseful>{route.component}</RenderSuspenseful>\n            </Route>\n          ))}\n\n          <Route>\n            <RenderSuspenseful>\n              <FourZeroFour />\n            </RenderSuspenseful>\n          </Route>\n        </Switch>\n        <Footer />\n      </Router>\n    </div>\n  );\n};\n\nexport default Routes;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport Routes from './Routes';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from './services/UserContext';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider>\n      <Routes />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}