{"version":3,"sources":["images/BankLogo.png","components/Header.jsx","components/Footer.jsx","Routes.js","reportWebVitals.js","index.js","constants.js","services/Requests.js","services/UserContext.jsx","services/Utilities.js"],"names":["withRouter","location","useContext","UserContext","user","userExists","useState","routes","setRoutes","useEffect","sessionStorage","getItem","sessionStorageKeys","token","routeConstants","home","withdraw","deposit","data","logout","login","create_account","Navbar","bg","expand","Container","Brand","to","path","as","Link","Toggle","Collapse","className","Nav","map","route","OverlayTrigger","trigger","placement","overlay","Popover","Header","name","Body","description","isEqual","pathname","Footer","NavbarBrand","FourZeroFour","React","lazy","LoadingComponent","src","Logo","alt","height","Routes","RenderSuspenseful","children","Suspense","fallback","basename","Object","values","exact","walled","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","HomePage","Withdraw","CreateAccount","Deposit","AllData","Login","Logout","endpoints","auth","sign_up","transactions","methods","post","get","patch","delete","put","nodeEnvs","ci","dev","prod","URLs","api_dev","prefix","process","request","endpoint","method","authenticated","a","json","headers","ky","response","signUp","getUserData","postTransaction","createContext","KEYS","userReducer","state","action","newState","type","console","error","cloneDeep","capitalizeEachWord","first_name","last_name","join","setItem","value","filter","usr","id","Provider","useReducer","dispatch","fetchUser","useCallback","catch","err","keys","length","transact","ex","createUser","newData","signin","deleteUser","clear","window","href","numberFormatter","Intl","NumberFormat","currency","style","dateFormatter","DateTimeFormat","year","month","day","hour","minute","second","formatCurrency","number","float","parseFloat","format","formatDate","date","validNumber","str","startCase","toLower"],"mappings":"sGAAe,QAA0B,sC,6OCmF1BA,eArEA,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAAe,EACFC,qBAAWC,KAAhCC,EADuB,EACvBA,KAAMC,EADiB,EACjBA,WADiB,EAEHC,mBAAS,IAFN,mBAExBC,EAFwB,KAEhBC,EAFgB,KAsB/B,OAlBAC,qBAAU,WACJJ,KAAgBK,eAAeC,QAAQC,IAAmBC,OAC5DL,EAAU,CACRM,IAAeC,KACfD,IAAeE,SACfF,IAAeG,QACfH,IAAeI,KACfJ,IAAeK,SAInBX,EAAU,CACRM,IAAeC,KACfD,IAAeM,MACfN,IAAeO,mBAEhB,CAAChB,EAAYD,IAGd,cAACkB,EAAA,EAAD,CAAQC,GAAG,QAAQC,OAAO,KAA1B,SACE,eAACC,EAAA,EAAD,WACE,cAACH,EAAA,EAAOI,MAAR,CAAcC,GAAIb,IAAeC,KAAKa,KAAMC,GAAIC,IAAhD,sBAGA,cAACR,EAAA,EAAOS,OAAR,IACA,cAACT,EAAA,EAAOU,SAAR,CAAiBC,UAAU,sBAA3B,SACE,eAACC,EAAA,EAAD,WACG3B,EAAO4B,KAAI,SAACC,GAAD,OACV,cAACC,EAAA,EAAD,CACEC,QAAS,CAAC,QAAS,SACnBC,UAAU,SAEVC,QACE,eAACC,EAAA,EAAD,WACE,cAACA,EAAA,EAAQC,OAAT,UAAiBN,EAAMO,OACvB,cAACF,EAAA,EAAQG,KAAT,UAAeR,EAAMS,iBAP3B,SAWE,cAACX,EAAA,EAAIJ,KAAL,CACEG,UAAS,mBACPa,IAAQV,EAAMR,KAAM3B,EAAS8C,WAA7B,eADO,YAGPD,IAAQV,EAAOtB,IAAeO,iBAC9B,qCAJO,aAMNyB,IAAQV,EAAOtB,IAAeM,QAC7B0B,IAAQV,EAAOtB,IAAeK,UAChC,wCAEFQ,GAAIS,EAAMR,KACVC,GAAIC,IAZN,SAeGM,EAAMO,MAfT,sBAasBP,EAAMO,QAxB9B,qBAGqBP,EAAMO,KAH3B,SA8BDtC,EAAa,cAAC6B,EAAA,EAAIJ,KAAL,UAAW1B,EAAKuC,OAAmB,kB,SC/D9CK,EAZA,WACb,OACE,qBAAKf,UAAU,wBAAf,SACE,cAACX,EAAA,EAAD,UACE,cAACG,EAAA,EAAD,UACE,cAACwB,EAAA,EAAD,oC,SCOJC,G,cAAeC,IAAMC,MAAK,kBAAM,kCAEhCC,EAAmB,kBACvB,sBAAKpB,UAAU,iCAAf,UACE,qBAAKqB,IAAKC,IAAMC,IAAI,OAAOC,OAAO,UAClC,oBAAIxB,UAAU,MAAd,4BAwCWyB,EApCA,WAAO,IACZrD,EAAeH,qBAAWC,KAA1BE,WACFsD,EAAoB,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAH,OACxB,cAAC,IAAMC,SAAP,CAAgBC,SAAU,cAAC,EAAD,IAA1B,SAAiDF,KAGnD,OACE,qBAAK3B,UAAU,MAAf,SACE,eAAC,IAAD,CAAQ8B,SAAS,IAAjB,UACE,cAAC,EAAD,IACA,eAAC,IAAD,WACGC,OAAOC,OAAO1D,KAAQ4B,KAAI,SAACC,GAAD,OACzB,cAAC,IAAD,CAAmCR,KAAMQ,EAAMR,KAAMsC,OAAK,EAA1D,UACI9B,EAAM+B,QACP9D,MACEyC,IAAQV,EAAO7B,IAAOc,kBACtByB,IAAQV,EAAO7B,IAAOa,OACvB,cAACuC,EAAD,UAAoBvB,EAAMgC,YAE1B,cAAC,IAAD,CAAUzC,GAAItB,IAAe,QAAU,YAP3C,gBAAqB+B,EAAMO,UAY7B,cAAC,IAAD,UACE,cAACgB,EAAD,UACE,cAACT,EAAD,WAIN,cAAC,EAAD,UCxCOmB,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,+BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCAdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJC,SAASC,eAAe,SAM1Bb,K,+BCnBA,uOACMc,EAAWhC,IAAMC,MAAK,kBAAM,iCAC5BgC,EAAWjC,IAAMC,MAAK,kBAAM,wDAC5BiC,EAAgBlC,IAAMC,MAAK,kBAAM,+DACjCkC,EAAUnC,IAAMC,MAAK,kBAAM,wDAC3BmC,EAAUpC,IAAMC,MAAK,kBAAM,8DAC3BoC,EAAQrC,IAAMC,MAAK,kBAAM,+DACzBqC,EAAStC,IAAMC,MAAK,kBAAM,iCAEnB7C,EAAS,CACpBQ,KAAM,CACJ4B,KAAM,OACNf,KAAM,IACNiB,YAAY,eACZuB,UAAW,cAACe,EAAD,IACXhB,QAAQ,GAEVnD,SAAU,CACR2B,KAAM,WACNf,KAAM,YACNiB,YAAY,oBACZuB,UAAW,cAACgB,EAAD,IACXjB,QAAQ,GAEVlD,QAAS,CACP0B,KAAM,UACNf,KAAM,WACNiB,YAAY,iBACZuB,UAAW,cAACkB,EAAD,IACXnB,QAAQ,GAEVjD,KAAM,CACJyB,KAAM,UACNf,KAAM,QACNiB,YAAY,wBACZuB,UAAW,cAACmB,EAAD,IACXpB,QAAQ,GAEV9C,eAAgB,CACdsB,KAAM,iBACNf,KAAM,kBACNiB,YAAY,oBACZuB,UAAW,cAACiB,EAAD,IACXlB,QAAQ,GAEV/C,MAAO,CACLuB,KAAM,QACNf,KAAM,SACNiB,YAAa,oBACbuB,UAAW,cAACoB,EAAD,IACXrB,QAAQ,GAEVhD,OAAQ,CACNwB,KAAM,SACNf,KAAM,UACNiB,YAAa,sBACbuB,UAAW,cAACqB,EAAD,IACXtB,QAAQ,IAICuB,EAAY,CACvBC,KAAM,CACJC,QAAS,eACTxE,MAAO,cACPD,OAAQ,gBAEVf,KAAM,MACNyF,aAAc,iBAGHC,EAAU,CACrBC,KAAM,OACNC,IAAK,MACLC,MAAO,QACPC,OAAQ,SACRC,IAAK,OAGMC,EAAW,CACtBC,GAAI,KACJC,IAAK,cACLC,KAAM,cAGKC,EAAO,CAClBC,QAAS,yBAGE7F,EAAqB,CAChCC,MAAO,U,6KChFH6F,EAASC,eAAyBP,IAASE,IAAME,IAAKC,QAAU,GAEhEG,EACJ,SAACC,EAAUC,GAAX,IAAmBC,EAAnB,sGACA,WAAO7F,GAAP,iBAAA8F,EAAA,6DACQJ,EAAU,GACZ1F,IACF0F,EAAQK,KAAR,eAAoB/F,IAElB6F,IACIlG,EAAQH,eAAeC,QAAQC,IAAmBC,UAEtD+F,EAAQM,QAAU,CAAErG,UAR1B,kBAWSsG,IAAGL,GAAQJ,EAASG,EAAUD,GAASpC,MAAK,SAAC4C,GAAD,OACjDA,EAASH,WAZb,2CADA,uDAiBWI,EAAST,EAAQlB,IAAUC,KAAKC,QAASE,IAAQC,MAEjD3E,EAAQwF,EAAQlB,IAAUC,KAAKvE,MAAO0E,IAAQC,MAI9CuB,GAFSV,EAAQlB,IAAUC,KAAKxE,OAAQ2E,IAAQC,MAAM,GAExCa,EAAQlB,IAAUtF,KAAM0F,IAAQE,KAAK,IAUnDuB,GARiBX,EAAQlB,IAAUtF,KAAM0F,IAAQG,OAAO,GAEtCW,EAC7BlB,IAAUG,aACVC,IAAQE,KACR,GAG6BY,EAC7BlB,IAAUG,aACVC,IAAQG,OACR,I,iCC3CI9F,EAAcqH,0BAEdC,EACO,YADPA,EAES,cAFTA,EAGS,cAGTC,EAAc,SAACC,EAAOC,GAC1B,IAAIC,EAAWF,EACf,OAAQC,EAAOE,MACb,KAAKL,EAEH,IAAKG,EAAOxH,KAAM,CAChB2H,QAAQC,MAAM,2CACd,MAEF,IAAM5H,EAAO6H,IAAUL,EAAOxH,MAC9BA,EAAKuC,KAAOuF,YACV,CAACN,EAAOO,WAAYP,EAAOQ,WAAWC,KAAK,MAEzCjI,EAAKS,OACPH,eAAe4H,QAAQ1H,IAAmBC,MAAOT,EAAKS,OAExDgH,EAAQ,2BAAQF,GAAUvH,GAC1B,MAEF,KAAKqH,EACH,IAAKG,EAAOxH,OAASwH,EAAOW,MAAO,CACjCR,QAAQC,MAAM,2CACd,MAEFH,EAAQ,2BAAQF,GAAR,IAAe9B,aAAc+B,EAAOW,QAE5C,MAEF,KAAKd,EACH,IAAKG,EAAOxH,KAAM,CAChB2H,QAAQC,MAAM,2CACd,MAEFH,EAAQ,YAAOF,EAAMa,QAAO,SAACC,GAAD,OAASA,EAAIC,KAAOd,EAAOxH,SACvD,MAEF,QACE2H,QAAQC,MAAM,6CAGlB,OAAOH,GAGHc,EAAW,SAAC,GAAkB,IAAhB/E,EAAe,EAAfA,SAAe,EACRgF,qBAAWlB,EAAa,IADhB,mBAC1BtH,EAD0B,KACpByI,EADoB,KAG3BC,EAAYC,uBAChB,kBACEzB,IACG9C,MAAK,SAACpE,GAAD,OAAUyI,EAAS,CAAEf,KAAML,EAAgBrH,YAChD4I,OAAM,SAACC,GAAD,OAASlB,QAAQC,MAAM,4BAA6BiB,QAC/D,IAGFxI,oBAAUqI,EAAW,CAACA,IAoCtB,OACE,cAAC3I,EAAYwI,SAAb,CACEJ,MAAO,CACLnI,OACAC,WARa,mBACf2D,OAAOkF,KAAK9I,GAAM+I,QACpBzI,eAAeC,QAAQC,IAAmBC,QAOtCuI,SAvCW,SAACb,GAAD,OACfhB,EAAgB,CACdgB,UAEC/D,MAAK,SAACqB,GACLgD,EAAS,CAAEf,KAAML,EAAkBc,MAAO1C,IAC1CiD,OAEDE,OAAM,SAACK,GAAD,OAAQtB,QAAQC,MAAM,6BAA8BqB,OAgCzDC,WA9Ba,SAAClJ,GAClBiH,EAAOjH,GACJoE,MAAK,SAAC+E,GAAD,OAAaV,EAAS,CAAEf,KAAML,EAAgBrH,KAAMmJ,OACzDP,OAAM,SAAChB,GAAD,OAAWD,QAAQC,MAAMA,OA4B9BwB,OAzBS,SAACpJ,GAAD,OACbgB,EAAMhB,GAAMoE,MAAK,SAAC+E,GAAD,OACfV,EAAS,CAAEf,KAAML,EAAgBrH,KAAMmJ,QAwBrCE,WArBa,SAACrJ,GAClByI,EAAS,CAAEf,KAAML,EAAkBrH,UAqB/B0I,YACA3H,OAnBS,WACbT,eAAegJ,QACfC,OAAO1J,SAAS2J,KAAOrJ,IAAOa,MAAMQ,OAQpC,SAYGgC,M,gCCrHP,gLAGMiG,EAAkB,IAAIC,KAAKC,aAAa,QAAS,CACrDC,SAAU,MACVC,MAAO,aAGHC,EAAgB,IAAIJ,KAAKK,eAAe,UAAW,CACvDC,KAAM,UACNC,MAAO,UACPC,IAAK,UACLC,KAAM,UACNC,OAAQ,UACRC,OAAQ,YAQJC,EAAiB,SAACC,GACtB,IAAMC,EAAQC,WAAWF,GACzB,OAAOd,EAAgBiB,OAAOF,IAQ1BG,EAAa,SAACC,GAClB,OAAOd,EAAcY,OAAOE,IAQxBC,EAAc,SAACN,GAAD,OAAYA,GAAqB,IAAXA,GAOpCzC,EAAqB,SAACgD,GAAD,OAASC,IAAUC,IAAQF,O","file":"static/js/main.b1718951.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/BankLogo.c839211a.png\";","import React, { useContext, useEffect, useState } from 'react';\nimport {\n  Navbar,\n  Container,\n  Nav,\n  OverlayTrigger,\n  Popover,\n} from 'react-bootstrap';\nimport isEqual from 'lodash/isEqual';\nimport { Link } from 'react-router-dom';\nimport { withRouter } from 'react-router-dom';\nimport { UserContext } from '../services/UserContext';\nimport { sessionStorageKeys, routes as routeConstants } from '../constants';\n\nconst Header = ({ location }) => {\n  const { user, userExists } = useContext(UserContext);\n  const [routes, setRoutes] = useState([]);\n\n  useEffect(() => {\n    if (userExists() || sessionStorage.getItem(sessionStorageKeys.token)) {\n      setRoutes([\n        routeConstants.home,\n        routeConstants.withdraw,\n        routeConstants.deposit,\n        routeConstants.data,\n        routeConstants.logout,\n      ]);\n      return;\n    }\n    setRoutes([\n      routeConstants.home,\n      routeConstants.login,\n      routeConstants.create_account,\n    ]);\n  }, [userExists, user]);\n\n  return (\n    <Navbar bg=\"light\" expand=\"lg\">\n      <Container>\n        <Navbar.Brand to={routeConstants.home.path} as={Link}>\n          Bad Bank\n        </Navbar.Brand>\n        <Navbar.Toggle />\n        <Navbar.Collapse className=\"justify-content-end\">\n          <Nav>\n            {routes.map((route) => (\n              <OverlayTrigger\n                trigger={['hover', 'focus']}\n                placement=\"bottom\"\n                key={`pop-header-${route.name}}`}\n                overlay={\n                  <Popover>\n                    <Popover.Header>{route.name}</Popover.Header>\n                    <Popover.Body>{route.description}</Popover.Body>\n                  </Popover>\n                }\n              >\n                <Nav.Link\n                  className={`nav-link ${\n                    isEqual(route.path, location.pathname) && `text-primary`\n                  } ${\n                    isEqual(route, routeConstants.create_account) &&\n                    'bg-primary rounded text-light mr-4'\n                  } ${\n                    (isEqual(route, routeConstants.login) ||\n                      isEqual(route, routeConstants.logout)) &&\n                    'bg-dark text-light bold rounded mx-2'\n                  }`}\n                  to={route.path}\n                  as={Link}\n                  key={`header-link-${route.name}`}\n                >\n                  {route.name}\n                </Nav.Link>\n              </OverlayTrigger>\n            ))}\n            {userExists ? <Nav.Link>{user.name}</Nav.Link> : null}\n          </Nav>\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  );\n};\nexport default withRouter(Header);\n","import { Navbar, NavbarBrand, Container } from 'react-bootstrap';\nconst Footer = () => {\n  return (\n    <div className=\"fixed-bottom bg-light\">\n      <Navbar>\n        <Container>\n          <NavbarBrand>Bad Bank™</NavbarBrand>\n        </Container>\n      </Navbar>\n    </div>\n  );\n};\n\nexport default Footer;\n","import Header from './components/Header';\nimport Footer from './components/Footer';\nimport React, { useContext } from 'react';\nimport { Switch, Route, BrowserRouter as Router } from 'react-router-dom';\nimport { routes } from './constants';\nimport { UserContext } from './services/UserContext';\nimport isEqual from 'lodash/isEqual';\nimport Logo from './images/BankLogo.png';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport './Routes.css';\nimport { Redirect } from 'react-router-dom';\n\nconst FourZeroFour = React.lazy(() => import('./pages/404'));\n\nconst LoadingComponent = () => (\n  <div className=\"w-100 h-100 bg-light text-dark\">\n    <img src={Logo} alt=\"Logo\" height=\"256px\" />\n    <h1 className=\"p-5\">Loading...</h1>\n  </div>\n);\n\nconst Routes = () => {\n  const { userExists } = useContext(UserContext);\n  const RenderSuspenseful = ({ children }) => (\n    <React.Suspense fallback={<LoadingComponent />}>{children}</React.Suspense>\n  );\n\n  return (\n    <div className=\"App\">\n      <Router basename=\"/\">\n        <Header />\n        <Switch>\n          {Object.values(routes).map((route) => (\n            <Route key={`route-${route.name}`} path={route.path} exact>\n              {!route.walled ||\n              (userExists() &&\n                !isEqual(route, routes.create_account) &&\n                !isEqual(route, routes.login)) ? (\n                <RenderSuspenseful>{route.component}</RenderSuspenseful>\n              ) : (\n                <Redirect to={userExists() ? '/data' : '/login'} />\n              )}\n            </Route>\n          ))}\n\n          <Route>\n            <RenderSuspenseful>\n              <FourZeroFour />\n            </RenderSuspenseful>\n          </Route>\n        </Switch>\n        <Footer />\n      </Router>\n    </div>\n  );\n};\n\nexport default Routes;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport Routes from './Routes';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from './services/UserContext';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider>\n      <Routes />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import React from 'react';\nconst HomePage = React.lazy(() => import('./pages/HomePage'));\nconst Withdraw = React.lazy(() => import('./pages/Withdraw'));\nconst CreateAccount = React.lazy(() => import('./pages/CreateAccount'));\nconst Deposit = React.lazy(() => import('./pages/Deposit'));\nconst AllData = React.lazy(() => import('./pages/AllData'));\nconst Login = React.lazy(() => import('./pages/Login'));\nconst Logout = React.lazy(() => import('./pages/Logout'));\n\nexport const routes = {\n  home: {\n    name: 'Home',\n    path: '/',\n    description: `Our homepage`,\n    component: <HomePage />,\n    walled: false,\n  },\n  withdraw: {\n    name: 'Withdraw',\n    path: '/withdraw',\n    description: `Make a withdrawal`,\n    component: <Withdraw />,\n    walled: true,\n  },\n  deposit: {\n    name: 'Deposit',\n    path: '/deposit',\n    description: `Make a deposit`,\n    component: <Deposit />,\n    walled: true,\n  },\n  data: {\n    name: 'My Data',\n    path: '/data',\n    description: `View all of your data`,\n    component: <AllData />,\n    walled: true,\n  },\n  create_account: {\n    name: 'Create Account',\n    path: '/create-account',\n    description: `Create an account`,\n    component: <CreateAccount />,\n    walled: false,\n  },\n  login: {\n    name: 'Login',\n    path: '/login',\n    description: 'Log into the bank',\n    component: <Login />,\n    walled: false,\n  },\n  logout: {\n    name: 'Logout',\n    path: '/logout',\n    description: 'Log out of the bank',\n    component: <Logout />,\n    walled: true,\n  },\n};\n\nexport const endpoints = {\n  auth: {\n    sign_up: '/auth/signup',\n    login: '/auth/login',\n    logout: '/auth/logout',\n  },\n  user: '/me',\n  transactions: '/transactions',\n};\n\nexport const methods = {\n  post: 'post',\n  get: 'get',\n  patch: 'patch',\n  delete: 'delete',\n  put: 'put',\n};\n\nexport const nodeEnvs = {\n  ci: 'ci',\n  dev: 'development',\n  prod: 'production',\n};\n\nexport const URLs = {\n  api_dev: 'http://localhost:3000',\n};\n\nexport const sessionStorageKeys = {\n  token: 'token',\n};\n","import ky from 'ky';\nimport {\n  endpoints,\n  nodeEnvs,\n  URLs,\n  methods,\n  sessionStorageKeys,\n} from '../constants';\n\n// If it's the development environment then use a different API URL\nconst prefix = process.env.NODE_ENV === nodeEnvs.dev ? URLs.api_dev : '';\n\nconst request =\n  (endpoint, method, authenticated = false) =>\n  async (data) => {\n    const request = {};\n    if (data) {\n      request.json = { ...data };\n    }\n    if (authenticated) {\n      const token = sessionStorage.getItem(sessionStorageKeys.token);\n      if (token) {\n        request.headers = { token };\n      }\n    }\n    return ky[method](prefix + endpoint, request).then((response) =>\n      response.json()\n    );\n  };\n\nexport const signUp = request(endpoints.auth.sign_up, methods.post);\n\nexport const login = request(endpoints.auth.login, methods.post);\n\nexport const logout = request(endpoints.auth.logout, methods.post, true);\n\nexport const getUserData = request(endpoints.user, methods.get, true);\n\nexport const updateUserData = request(endpoints.user, methods.patch, true);\n\nexport const getTransactions = request(\n  endpoints.transactions,\n  methods.get,\n  true\n);\n\nexport const postTransaction = request(\n  endpoints.transactions,\n  methods.patch,\n  true\n);\n","import { createContext, useReducer, useEffect, useCallback } from 'react';\nimport { routes, sessionStorageKeys } from '../constants';\nimport { getUserData, login, postTransaction, signUp } from './Requests';\nimport { capitalizeEachWord } from './Utilities';\nimport cloneDeep from 'lodash/cloneDeep';\n\nconst UserContext = createContext();\n\nconst KEYS = {\n  LOAD_USER: 'LOAD_USER',\n  TRANSACTION: 'TRANSACTION',\n  DELETE_USER: 'DELETE_USER',\n};\n\nconst userReducer = (state, action) => {\n  let newState = state;\n  switch (action.type) {\n    case KEYS.LOAD_USER: {\n      // These braces are odd, for some reason eslint doesn't determine scope properly without them. https://stackoverflow.com/questions/33397782/const-already-declared-in-es6-switch-block\n      if (!action.user) {\n        console.error('Cannot add a user without a user to add');\n        break;\n      }\n      const user = cloneDeep(action.user);\n      user.name = capitalizeEachWord(\n        [action.first_name, action.last_name].join(' ')\n      );\n      if (user.token) {\n        sessionStorage.setItem(sessionStorageKeys.token, user.token);\n      }\n      newState = { ...state, ...user };\n      break;\n    }\n    case KEYS.TRANSACTION: {\n      if (!action.user || !action.value) {\n        console.error('Cannot withdraw without a value or user');\n        break;\n      }\n      newState = { ...state, transactions: action.value };\n\n      break;\n    }\n    case KEYS.DELETE_USER: {\n      if (!action.user) {\n        console.error('Cannot remove a user without a username');\n        break;\n      }\n      newState = [...state.filter((usr) => usr.id !== action.user)];\n      break;\n    }\n    default:\n      console.error('userReducer called without an action type');\n      break;\n  }\n  return newState;\n};\n\nconst Provider = ({ children }) => {\n  const [user, dispatch] = useReducer(userReducer, {});\n\n  const fetchUser = useCallback(\n    () =>\n      getUserData()\n        .then((user) => dispatch({ type: KEYS.LOAD_USER, user }))\n        .catch((err) => console.error('Failed to fetch user data', err)),\n    []\n  );\n\n  useEffect(fetchUser, [fetchUser]);\n\n  const transact = (value) =>\n    postTransaction({\n      value,\n    })\n      .then((transactions) => {\n        dispatch({ type: KEYS.TRANSACTION, value: transactions });\n        fetchUser();\n      })\n      .catch((ex) => console.error('Failed to post transaction', ex));\n\n  const createUser = (user) => {\n    signUp(user)\n      .then((newData) => dispatch({ type: KEYS.LOAD_USER, user: newData }))\n      .catch((error) => console.error(error));\n  };\n\n  const signin = (user) =>\n    login(user).then((newData) =>\n      dispatch({ type: KEYS.LOAD_USER, user: newData })\n    );\n\n  const deleteUser = (user) => {\n    dispatch({ type: KEYS.DELETE_USER, user });\n  };\n\n  const logout = () => {\n    sessionStorage.clear();\n    window.location.href = routes.login.path;\n  };\n\n  const userExists = () =>\n    !!Object.keys(user).length ||\n    sessionStorage.getItem(sessionStorageKeys.token);\n\n  return (\n    <UserContext.Provider\n      value={{\n        user,\n        userExists,\n        transact,\n        createUser,\n        signin,\n        deleteUser,\n        fetchUser,\n        logout,\n      }}\n    >\n      {children}\n    </UserContext.Provider>\n  );\n};\n\nexport { Provider, UserContext };\n","import toLower from 'lodash/toLower';\nimport startCase from 'lodash/startCase';\n\nconst numberFormatter = new Intl.NumberFormat('en-US', {\n  currency: 'USD',\n  style: 'currency',\n});\n\nconst dateFormatter = new Intl.DateTimeFormat('default', {\n  year: 'numeric',\n  month: 'numeric',\n  day: 'numeric',\n  hour: 'numeric',\n  minute: 'numeric',\n  second: 'numeric',\n});\n\n/**\n * Provides an interface to convert balances into formatted currency strings for display\n * @param {Number} number The number to be formatted\n * @returns {String} A formatted currency string\n */\nconst formatCurrency = (number) => {\n  const float = parseFloat(number);\n  return numberFormatter.format(float);\n};\n\n/**\n * Formats the provided Date into a string\n * @param {Date} date The date to be formatted\n * @returns {String} A formatter datetime string\n */\nconst formatDate = (date) => {\n  return dateFormatter.format(date);\n};\n\n/**\n * Determines whether or not a number exists (0 is truthy, null isn't)\n * @param {Number} number The number that will be checked for a non existent value\n * @returns {Boolean} True or false depending if the number exists or not\n */\nconst validNumber = (number) => number || number === 0;\n\n/**\n * Capitalize each word in a string\n * @param {String} str The string containing separate words that need to be capitalized\n * @returns {String} The input string where each word is lowercased except for the first character, which is uppercased\n */\nconst capitalizeEachWord = (str) => startCase(toLower(str));\n\nexport { formatCurrency, validNumber, formatDate, capitalizeEachWord };\n"],"sourceRoot":""}