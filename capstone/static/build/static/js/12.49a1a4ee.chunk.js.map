{"version":3,"sources":["pages/CreateAccount.jsx"],"names":["schema","Yup","shape","first_name","default","required","last_name","email","username","password","matches","CreateAccount","createUser","useContext","UserContext","useState","alert","setAlert","useEffect","open","timeout","setTimeout","clearTimeout","className","variant","type","message","Title","Body","validationSchema","onSubmit","vals","resetForm","initialValues","handleSubmit","handleChange","values","isValid","errors","dirty","Group","as","Col","Label","hasValidation","Control","name","autoComplete","placeholder","value","isInvalid","onChange","Feedback","capitalize","Row","Text","disabled","Footer","Link","to","routes","login","path"],"mappings":"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","file":"static/js/12.49a1a4ee.chunk.js","sourcesContent":["import { useState, useEffect } from 'react';\nimport { Card, InputGroup, Button, Row, Form, Col } from 'react-bootstrap';\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { UserContext } from '../services/UserContext';\nimport { useContext } from 'react';\nimport { capitalize } from 'lodash';\nimport { Alert } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { routes } from '../constants';\n// Frontend validation\nconst schema = Yup.object().shape({\n  first_name: Yup.string('ss')\n    .default('')\n    .required('Please enter your first name'),\n  last_name: Yup.string().default('').required('Please enter your last name'),\n  email: Yup.string()\n    .required('Please enter your E-Mail address')\n    .email('Invalid email address')\n    .default(''),\n  username: Yup.string().default('').required('Please enter a valid username'),\n  password: Yup.string()\n    .default('')\n    .required('Please enter a valid password')\n    .matches(\n      /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})/,\n      'Ensure your password contains 8 characters - One Uppercase, One Lowercase, One Number and One Special Character'\n    ),\n});\n\nconst CreateAccount = () => {\n  const { createUser } = useContext(UserContext);\n  const [alert, setAlert] = useState({});\n  // Once the alert is shown, hide it after 2.5s\n  useEffect(() => {\n    if (!alert.open) {\n      return;\n    }\n    const timeout = setTimeout(() => setAlert({}), 2500);\n    return () => clearTimeout(timeout);\n  }, [alert]);\n\n  const submitForm = (e) => {\n    createUser(e);\n    setAlert({\n      open: true,\n      type: 'success',\n      message: 'Successfully created a new account',\n    });\n  };\n\n  return (\n    <Card className=\"mx-auto w-50 mt-5\">\n      {alert.open && <Alert variant={alert.type}>{alert.message}</Alert>}\n      <Card.Title className=\"mb-5 pt-5 text-left display-4\">\n        Create an Account\n      </Card.Title>\n      <Card.Body className=\"p-5\">\n        <Formik\n          validationSchema={schema}\n          onSubmit={(vals, { resetForm }) => {\n            submitForm(vals);\n            resetForm();\n          }}\n          initialValues={{\n            first_name: '',\n            last_name: '',\n            username: '',\n            email: '',\n            password: '',\n          }}\n        >\n          {({ handleSubmit, handleChange, values, isValid, errors, dirty }) => (\n            <Form onSubmit={handleSubmit}>\n              <Row>\n                <Form.Group as={Col} className=\"my-2\">\n                  <Form.Label>First Name</Form.Label>\n                  <InputGroup hasValidation>\n                    <Form.Control\n                      type=\"text\"\n                      name=\"first_name\"\n                      autoComplete=\"given-name\"\n                      placeholder=\"John\"\n                      value={values.first_name}\n                      isInvalid={!!errors.first_name}\n                      onChange={handleChange}\n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                      {capitalize(errors.first_name)}\n                    </Form.Control.Feedback>\n                  </InputGroup>\n                </Form.Group>\n                <Form.Group as={Col} className=\"my-2\">\n                  <Form.Label>Last Name</Form.Label>\n                  <InputGroup hasValidation>\n                    <Form.Control\n                      type=\"text\"\n                      name=\"last_name\"\n                      autoComplete=\"family-name\"\n                      placeholder=\"Doe\"\n                      value={values.last_name}\n                      isInvalid={!!errors.last_name}\n                      onChange={handleChange}\n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                      {capitalize(errors.last_name)}\n                    </Form.Control.Feedback>\n                  </InputGroup>\n                </Form.Group>\n              </Row>\n              <Form.Group as={Row} className=\"my-2\">\n                <Form.Label>Username</Form.Label>\n                <InputGroup hasValidation>\n                  <Form.Control\n                    type=\"text\"\n                    name=\"username\"\n                    autoComplete=\"username\"\n                    placeholder=\"MrJohnDoe\"\n                    value={values.username}\n                    isInvalid={!!errors.username}\n                    onChange={handleChange}\n                  />\n                  <Form.Control.Feedback type=\"invalid\">\n                    {capitalize(errors.username)}\n                  </Form.Control.Feedback>\n                </InputGroup>\n              </Form.Group>\n              <Form.Group as={Row} className=\"my-2\">\n                <Form.Label>Email Address</Form.Label>\n                <InputGroup hasValidation>\n                  <InputGroup.Text\n                    className={\n                      !!errors.email && 'text-danger border border-danger'\n                    }\n                  >\n                    âœ‰\n                  </InputGroup.Text>\n                  <Form.Control\n                    type=\"email\"\n                    name=\"email\"\n                    autoComplete=\"email\"\n                    value={values.email}\n                    isInvalid={!!errors.email}\n                    placeholder=\"johndoe@mail.com\"\n                    onChange={handleChange}\n                  />\n                  <Form.Control.Feedback type=\"invalid\">\n                    {capitalize(errors.email)}\n                  </Form.Control.Feedback>\n                </InputGroup>\n              </Form.Group>\n              <Form.Group as={Row} className=\"my-2\">\n                <Form.Label>Password</Form.Label>\n                <InputGroup hasValidation>\n                  <InputGroup.Text\n                    className={\n                      !!errors.email && 'text-danger border border-danger'\n                    }\n                  >\n                    &#x1f512;\n                  </InputGroup.Text>\n                  <Form.Control\n                    type=\"password\"\n                    name=\"password\"\n                    autoComplete=\"new-password\"\n                    value={values.password}\n                    placeholder=\"**************\"\n                    isInvalid={!!errors.password}\n                    onChange={handleChange}\n                  />\n                  <Form.Control.Feedback type=\"invalid\">\n                    {capitalize(errors.password)}\n                  </Form.Control.Feedback>\n                </InputGroup>\n              </Form.Group>\n              <Button\n                type=\"submit\"\n                disabled={!isValid || !dirty}\n                className=\"mt-5 w-25 mx-2 inline-block\"\n              >\n                Create Account\n              </Button>\n            </Form>\n          )}\n        </Formik>\n      </Card.Body>\n      <Card.Footer className=\"d-flex flex-row-reverse align-items-center\">\n        <Button\n          variant=\"primary\"\n          className=\"w-50\"\n          as={Link}\n          to={routes.login.path}\n        >\n          Already have an account?\n        </Button>\n      </Card.Footer>\n    </Card>\n  );\n};\n\nexport default CreateAccount;\n"],"sourceRoot":""}